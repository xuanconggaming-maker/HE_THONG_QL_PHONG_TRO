<!doctype html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Đăng ký tài khoản - Quản lý nhà trọ</title>
    <link rel="stylesheet" href="css/style.css" />
    <link rel="stylesheet" href="css/login.css" />
  </head>
  <body>
    <div class="header-wrapper">
      <div class="header">
        <div class="logo">
          <h1>HỆ THỐNG QUẢN LÝ PHÒNG TRỌ</h1>
        </div>
        <div class="menu">
          <ul></ul>
        </div>
      </div>
    </div>

    <div class="login-page">
      <div class="login-card">
        <div class="login-header">
          <h2>TẠO TÀI KHOẢN</h2>
          <p>Đăng ký thành viên để quản lý phòng trọ</p>
        </div>

        <form action="#" method="POST" class="login-form">
          <div class="input-group">
            <label for="reg-username">Tên đăng nhập mới</label>
            <input
              type="text"
              id="reg-username"
              name="username"
              placeholder="Ví dụ: congxuan99"
              required
            />
          </div>

          <div class="input-group">
            <label for="reg-email">Email liên hệ</label>
            <input
              type="email"
              id="reg-email"
              name="email"
              placeholder="xuanconggaming@gmail.com"
              required
            />
          </div>

          <div class="input-group">
            <label for="reg-password">Mật khẩu</label>
            <input
              type="password"
              id="reg-password"
              name="password"
              placeholder="Tối thiểu 6 ký tự"
              required
            />
          </div>

          <div class="input-group">
            <label for="confirm-password">Xác nhận mật khẩu</label>
            <input
              type="password"
              id="confirm-password"
              name="confirm-password"
              placeholder="Nhập lại mật khẩu"
              required
            />
          </div>

          <button type="submit" class="btn-login">ĐĂNG KÝ NGAY</button>

          <p class="signup-link">
            Đã có tài khoản? <a href="index.html">Đăng Nhập Tại Đây</a>
          </p>
        </form>
      </div>
    </div>

    <div class="footer">
      <p>
        &copy;2026. Sinh Viên Khoa CNTT TRƯỜNG ĐẠI HỌC NGHỆ AN - Đề tài: Thiết
        kế hệ thống quản lý nhà trọ.
      </p>
    </div>
    <script>
      document.querySelector(".login-form").onsubmit = function (e) {
        e.preventDefault(); // Ngăn gửi form để kiểm tra logic

        let user = document.getElementById("reg-username").value;
        let email = document.getElementById("reg-email").value;
        let pass = document.getElementById("reg-password").value;
        let confirmPass = document.getElementById("confirm-password").value;

        // 1. KIỂM TRA TÀI KHOẢN ĐÃ TỒN TẠI CHƯA
        let existingUser = localStorage.getItem("registeredUser");
        if (existingUser === user) {
          alert("Lỗi: Tài khoản này đã tồn tại trên hệ thống!");
          return; // Dừng lại, không cho đăng ký tiếp
        }

        // 2. Kiểm tra mật khẩu khớp nhau không
        if (pass !== confirmPass) {
          alert("Mật khẩu xác nhận không khớp!");
          return;
        }

        // 3. Nếu mọi thứ ổn, tiến hành lưu
        localStorage.setItem("registeredUser", user);
        localStorage.setItem("registeredPass", pass);

        alert(
          "Đăng ký thành công! Bạn có thể dùng tài khoản này để đăng nhập.",
        );
        window.location.href = "index.html"; // Chuyển về trang đăng nhập
      };
    </script>
  </body>
</html>
