<!doctype html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Đăng nhập hệ thống - Quản lý nhà trọ</title>
    <link rel="stylesheet" href="css/style.css" />
    <link rel="stylesheet" href="css/login.css" />
  </head>
  <body>
    <div class="header-wrapper">
      <div class="header">
        <div class="logo">
          <h1>HỆ THỐNG QUẢN LÝ PHÒNG TRỌ</h1>
        </div>
        <div class="menu">
          <ul></ul>
        </div>
      </div>
    </div>

    <div class="login-page">
      <div class="login-card">
        <div class="login-header">
          <h2>ĐĂNG NHẬP</h2>
          <p>Hệ thống quản lý nhà trọ nhóm 9</p>
        </div>

        <form action="#" method="post" class="login-form">
          <div class="input-group">
            <label for="username">Tên đăng nhập</label>
            <input
              type="text"
              id="username"
              name="username"
              placeholder="Nhập tài khoản của bạn"
              required
            />
          </div>

          <div class="input-group">
            <label for="password">Mật khẩu</label>
            <input
              type="password"
              id="password"
              name="password"
              placeholder="Nhập mật khẩu"
              required
            />
          </div>

          <div class="login-options">
            <label><input type="checkbox" /> Ghi nhớ</label>
            <a href="quenmatkhau.html">Quên mật khẩu?</a>
          </div>

          <button type="submit" class="btn-login">VÀO HỆ THỐNG</button>

          <p class="signup-link">
            Chưa có tài khoản? <a href="dangky.html">Đăng ký ngay</a>
          </p>
        </form>
      </div>
    </div>

    <div class="footer">
      <p>
        &copy;2026. Sinh Viên Khoa CNTT TRƯỜNG ĐẠI HỌC NGHỆ AN - Đề tài: Thiết
        kế hệ thống quản lý nhà trọ.
      </p>
    </div>

    <script>
      document.querySelector(".login-form").onsubmit = function (e) {
        e.preventDefault(); // Ngăn chuyển trang tự động để kiểm tra

        let userIn = document.getElementById("username").value;
        let passIn = document.getElementById("password").value;

        // LẤY THÔNG TIN ĐÃ ĐĂNG KÝ TỪ BỘ NHỚ
        let savedUser = localStorage.getItem("registeredUser");
        let savedPass = localStorage.getItem("registeredPass");

        // KIỂM TRA ĐIỀU KIỆN
        if (userIn === savedUser && passIn === savedPass) {
          // Đúng tài khoản vừa đăng ký
          localStorage.setItem("userRole", "khach");
          localStorage.setItem("userName", userIn);
          alert("Đăng nhập thành công!");
          window.location.href = "trangchu.html";
        } else if (userIn === "admin" && passIn === "123456") {
          // Vẫn giữ 1 tài khoản admin dự phòng để bạn demo cho thầy cô
          localStorage.setItem("userRole", "admin");
          alert("Chào Admin!");
          window.location.href = "trangchu.html";
        } else {
          // Sai thông tin
          alert("Tài khoản không tồn tại hoặc sai mật khẩu!");
          document.querySelector(".login-card").classList.add("apply-shake");
          setTimeout(() => {
            document
              .querySelector(".login-card")
              .classList.remove("apply-shake");
          }, 300);
        }
      };
    </script>
  </body>
</html>
